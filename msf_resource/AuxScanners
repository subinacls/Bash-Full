msfkicker() {
 makeXtermLog() {
   if [ -f $1-log.txt ];
     then
       rm $1-log.txt >/dev/null;
   fi;
   xterm -bc \
     -bd white \
     -bg black \
     -fg green \
     -l \
     -lf $1-log.txt \
     -leftbar \
     -ls \
     -name $1 \
     -ms yellow \
     -selbg orange \
     -selfg black \
     -title $1 \
     -e "$2"; 
 }
 setvars() {
  msfc="/usr/share/metasploit-framework/msfconsole"
  msfs="/usr/share/metasploit-framework/scripts" 
  setrhosts="setg rhosts file:$1"
  setthreads="setg threads 10"
 }
 setvars $1;
 https_version() {
  echo "Making https_version.rc file" 
  echo "use auxiliary/scanner/http/http_version" > $msfs/https_version.rc
  echo "set rport 443" >> $msfs/https_version.rc
  echo "set ssl true" >> $msfs/https_version.rc
  echo "$setrhosts" >> $msfs/https_version.rc
  echo "$setthreads" >> $msfs/https_version.rc
  echo "run" >> $msfs/https_version.rc
  echo "exit" >> $msfs/https_version.rc
  makeXtermLog "https_version" "$msfc -r $msfs/https_version.rc"
 }
 https_cert() {
  echo "Making https_cert.rc file" 
  echo "use auxiliary/scanner/http/cert" > $msfs/https_cert.rc
  echo "$setrhosts" >> $msfs/https_cert.rc
  echo "$setthreads" >> $msfs/https_cert.rc
  echo "set showall true" >> $msfs/https_cert.rc
  echo "run" >> $msfs/https_cert.rc
  echo "exit" >> $msfs/https_cert.rc
  makeXtermLog "https_cert" "$msfc -r $msfs/https_cert.rc"
 }
 
 ./sorteddomained
 https_version
 https_cert
}
msfkicker yourhostfile.txt
